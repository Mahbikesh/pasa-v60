@import "tailwindcss/preflight";
@tailwind utilities;

/* -------------------------------------------
   Coffee Theme Tokens
-------------------------------------------- */
:root {
  --bg: #0f0e0c; /* roasted espresso */
  --panel: #141310;
  --panel-2: #1a1815;
  --text: #f6f3ee; /* cream */
  --muted: #b7ada1;
  --accent: #b07b3a; /* caramel */
  --accent-2: #6b4423; /* mocha */
  --success: #3ea76a; /* WhatsApp */
}

/* -------------------------------------------
   Fancy background: vignette + subtle grain
-------------------------------------------- */
.fancy-bg {
  position: relative;
  isolation: isolate;
}
.fancy-bg::before {
  content: "";
  position: fixed;
  inset: -20vmax;
  background: radial-gradient(
      60vmax 60vmax at 30% 10%,
      rgba(176, 123, 58, 0.15),
      transparent 60%
    ),
    radial-gradient(
      80vmax 60vmax at 80% 20%,
      rgba(107, 68, 35, 0.15),
      transparent 70%
    ),
    radial-gradient(
      120vmax 80vmax at 50% 120%,
      rgba(0, 0, 0, 0.8),
      transparent 60%
    );
  z-index: -2;
}
.fancy-bg::after {
  content: "";
  position: fixed;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='160' height='160' viewBox='0 0 160 160'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='2' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='.035'/%3E%3C/svg%3E");
  background-size: 160px 160px;
  mix-blend-mode: overlay;
  pointer-events: none;
  z-index: -1;
}

/* -------------------------------------------
   Utilities / components
-------------------------------------------- */
@layer utilities {
  .font-serif {
    @apply [font-family:ui-serif,Georgia,Cambria,Times,serif];
  }
  .badge {
    @apply rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs text-[var(--muted)];
  }
  .card {
    @apply rounded-2xl border border-white/10 bg-[var(--panel)]/70 p-4 shadow-[inset_0_1px_0_rgba(255,255,255,.05),0_8px_30px_rgba(0,0,0,.25)] backdrop-blur;
  }
  .btn {
    @apply inline-flex items-center justify-center rounded-full px-4 py-3 text-sm font-medium transition
    outline-none ring-1 ring-white/10 bg-[var(--panel-2)] hover:bg-[var(--panel)] active:scale-95;
  }
  .btn-primary {
    @apply bg-[var(--accent)] text-black hover:bg-[color:var(--accent)]/90 ring-[color:var(--accent-2)]/30;
  }
  .btn-outline {
    @apply bg-transparent hover:bg-white/5;
  }
  .btn-success {
    @apply bg-[var(--success)] text-black hover:bg-[color:var(--success)]/90 ring-[color:var(--success)]/40;
  }
  .label {
    @apply mb-1 block text-[11px] uppercase tracking-wider text-[var(--muted)];
  }
  .hint {
    @apply text-xs text-[var(--muted)];
  }
  .field {
    @apply w-full rounded-xl border border-white/10 bg-[var(--panel-2)] px-3 py-2 text-sm text-[var(--text)]
    outline-none focus:border-[var(--accent)]/40 focus:ring-2 focus:ring-[var(--accent)]/20 transition;
  }
  .slider-row {
    @apply grid grid-cols-[1fr_auto] items-center gap-3;
  }
  .kicker {
    @apply text-xs uppercase tracking-[.18em] text-[var(--muted)];
  }
  .lift {
    @apply transition-transform duration-200 will-change-transform hover:-translate-y-0.5 active:translate-y-0;
  }
  .ring-focus {
    @apply focus:outline-none focus:ring-2 focus:ring-[var(--accent)]/30;
  }
  .soft-shadow {
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.35);
  }
  .inner-warm {
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.06),
      inset 0 -1px 0 rgba(0, 0, 0, 0.35);
  }
  .pulse {
    animation: pulse 1.8s ease-in-out infinite;
  }
}

/* -------------------------------------------
   Slider theming (mobile-friendly)
-------------------------------------------- */
input[type="range"] {
  width: 100%;
  height: 44px;
  appearance: none;
  -webkit-appearance: none;
  background: transparent;
}
input[type="range"]::-webkit-slider-runnable-track {
  height: 8px;
  background: linear-gradient(90deg, var(--accent) 0 0) left/var(--_fill, 0%)
      100% no-repeat,
    linear-gradient(#2a241f, #2a241f);
  border-radius: 999px;
  transition: background-size 0.25s ease;
}
input[type="range"]::-webkit-slider-thumb {
  -webkit-appearance: none;
  margin-top: -8px;
  height: 24px;
  width: 24px;
  background: radial-gradient(circle at 30% 30%, #fff, #f6f3ee 60%, #e6dfd5);
  border-radius: 999px;
  border: 2px solid #0b0a09;
  box-shadow: 0 1px 0 rgba(255, 255, 255, 0.2) inset,
    0 4px 18px rgba(0, 0, 0, 0.35);
}
input[type="range"]::-moz-range-track {
  height: 8px;
  border-radius: 999px;
  background: #2a241f;
}
input[type="range"]::-moz-range-progress {
  height: 8px;
  border-radius: 999px;
  background: var(--accent);
}
input[type="range"]::-moz-range-thumb {
  height: 24px;
  width: 24px;
  border-radius: 999px;
  border: 2px solid #0b0a09;
  background: #f6f3ee;
}

/* -------------------------------------------
   Toast & steam
-------------------------------------------- */
.toast {
  @apply rounded-full px-4 py-2 text-sm font-medium shadow-lg;
  background: var(--accent);
  color: #0b0a09;
  border: 1px solid color-mix(in oklab, var(--accent) 60%, black);
}
.steam {
  background: radial-gradient(
      20px 60px at 30% 100%,
      rgba(255, 255, 255, 0.18),
      transparent 70%
    ),
    radial-gradient(
      16px 50px at 70% 100%,
      rgba(255, 255, 255, 0.12),
      transparent 70%
    );
  filter: blur(6px);
  animation: steam 4s linear infinite;
  opacity: 0.7;
}
@keyframes steam {
  0% {
    transform: translateY(20px) scale(1);
    opacity: 0;
  }
  20% {
    opacity: 0.6;
  }
  100% {
    transform: translateY(-36px) scale(1.1);
    opacity: 0;
  }
}
@keyframes pulse {
  0%,
  100% {
    transform: scale(1);
    box-shadow: 0 0 0 0 rgba(62, 167, 106, 0);
  }
  50% {
    transform: scale(1.03);
    box-shadow: 0 0 0 10px rgba(62, 167, 106, 0.12);
  }
}
